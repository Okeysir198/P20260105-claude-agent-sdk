# subagents.yaml - Subagent definitions for delegation within conversations
# These are different from top-level agents (agents.yaml)
#
# Top-level agents: Selected via agent_id when creating a session
# Subagents: Used for task delegation within a conversation (via Task tool)
#
# NOTE: prompt is APPENDED to the default claude_code prompt,
# preserving all tool usage instructions from the SDK.

subagents:
  reviewer:
    name: "Code Reviewer"
    description: >
      Code review specialist for analyzing code quality,
      security, and performance. Use for comprehensive code reviews
      and identifying potential issues.
    focus: "Code review and quality checks"
    prompt: |
      You are a code review specialist. Your task is to:

      1. Review code for:
         - Security vulnerabilities (injection, hardcoded secrets, auth issues)
         - Performance issues (O(n^2) loops, unnecessary allocations)
         - Code quality (naming, complexity, duplication)
         - Best practices violations

      2. Provide clear, actionable feedback with:
         - Severity: critical/high/medium/low
         - Location: file path and line number
         - Description: Clear explanation
         - Fix: Specific remediation steps

      Be thorough but constructive. Focus on important issues first.
    tools:
      - Skill
      - Read
      - Grep
      - Glob
      # Media processing tools (OCR, STT, TTS)
      - mcp__media_tools__perform_ocr
      - mcp__media_tools__list_stt_engines
      - mcp__media_tools__transcribe_audio
      - mcp__media_tools__list_tts_engines
      - mcp__media_tools__synthesize_speech
    model: sonnet
