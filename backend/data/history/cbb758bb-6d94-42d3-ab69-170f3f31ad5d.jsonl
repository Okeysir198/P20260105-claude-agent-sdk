{"id": "user-2026-01-17T00:56:55.750315", "role": "user", "content": "Write a Python function to calculate fibonacci numbers", "timestamp": "2026-01-17T00:56:55.750318Z"}
{"id": "assistant-2026-01-17T00:57:17.907773", "role": "assistant", "content": "I'll write a Python function to calculate Fibonacci numbers for you.I've created `fibonacci.py` with three functions:\n\n**1. `fibonacci(n)` - Iterative approach (recommended)**\n- Time complexity: O(n)\n- Space complexity: O(1)\n- Efficient for large values of n\n\n**2. `fibonacci_recursive(n)` - Recursive approach**\n- Time complexity: O(2^n)\n- Educational purposes only - not recommended for n > 30\n\n**3. `fibonacci_sequence(count)` - Generate a sequence**\n- Returns a list of the first `count` Fibonacci numbers\n- Useful for generating multiple values at once\n\nThe file includes proper error handling, type hints, docstrings with examples, and a demonstration in the `__main__` block.\n\nExample usage:\n```python\nfrom fibonacci import fibonacci, fibonacci_sequence\n\n# Get the 10th Fibonacci number\nprint(fibonacci(10))  # Output: 55\n\n# Get first 10 Fibonacci numbers\nprint(fibonacci_sequence(10))  # Output: [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n```", "timestamp": "2026-01-17T00:57:17.907780Z", "tool_use": [{"id": "call_b3ef47910a3d4f95ad1c63b8", "name": "Write", "input": {"file_path": "/home/ct-admin/Documents/Langgraph/P20260105-claude-agent-sdk/backend/fibonacci.py", "content": "def fibonacci(n: int) -> int:\n    \"\"\"\n    Calculate the nth Fibonacci number.\n\n    Args:\n        n: The position in the Fibonacci sequence (0-indexed).\n\n    Returns:\n        The nth Fibonacci number.\n\n    Raises:\n        ValueError: If n is negative.\n\n    Examples:\n        >>> fibonacci(0)\n        0\n        >>> fibonacci(1)\n        1\n        >>> fibonacci(10)\n        55\n    \"\"\"\n    if n < 0:\n        raise ValueError(\"n must be non-negative\")\n    if n <= 1:\n        return n\n\n    a, b = 0, 1\n    for _ in range(2, n + 1):\n        a, b = b, a + b\n    return b\n\n\ndef fibonacci_recursive(n: int) -> int:\n    \"\"\"\n    Calculate the nth Fibonacci number using recursion.\n\n    Warning: This implementation has exponential time complexity O(2^n)\n    and is not recommended for n > 30.\n\n    Args:\n        n: The position in the Fibonacci sequence (0-indexed).\n\n    Returns:\n        The nth Fibonacci number.\n\n    Raises:\n        ValueError: If n is negative.\n    \"\"\"\n    if n < 0:\n        raise ValueError(\"n must be non-negative\")\n    if n <= 1:\n        return n\n    return fibonacci_recursive(n - 1) + fibonacci_recursive(n - 2)\n\n\ndef fibonacci_sequence(count: int) -> list[int]:\n    \"\"\"\n    Generate a sequence of Fibonacci numbers.\n\n    Args:\n        count: The number of Fibonacci numbers to generate.\n\n    Returns:\n        A list of Fibonacci numbers.\n\n    Raises:\n        ValueError: If count is negative.\n\n    Examples:\n        >>> fibonacci_sequence(10)\n        [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n    \"\"\"\n    if count < 0:\n        raise ValueError(\"count must be non-negative\")\n    if count == 0:\n        return []\n\n    sequence = [0]\n    if count == 1:\n        return sequence\n\n    sequence.append(1)\n    for _ in range(2, count):\n        sequence.append(sequence[-1] + sequence[-2])\n    return sequence\n\n\nif __name__ == \"__main__\":\n    # Example usage\n    print(\"First 15 Fibonacci numbers:\")\n    print(fibonacci_sequence(15))\n\n    print(\"\\nSpecific Fibonacci numbers:\")\n    for i in [0, 1, 5, 10, 20, 50]:\n        print(f\"fibonacci({i}) = {fibonacci(i)}\")\n"}}], "tool_results": [{"tool_use_id": "call_b3ef47910a3d4f95ad1c63b8", "content": "File created successfully at: /home/ct-admin/Documents/Langgraph/P20260105-claude-agent-sdk/backend/fibonacci.py", "is_error": null}]}
