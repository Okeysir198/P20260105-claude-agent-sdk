# ==============================================================================
# API PROVIDER CONFIGURATION (at least one required)
# ==============================================================================
# Anthropic API (direct)
# ANTHROPIC_API_KEY=sk-ant-your-api-key

# ZAI API
# ZAI_API_KEY=your-zai-api-key
# ZAI_BASE_URL=https://api.z.ai/api/anthropic

# Minimax API
# MINIMAX_API_KEY=your-minimax-api-key
# MINIMAX_BASE_URL=https://api.minimax.io/anthropic

# Proxy API (local claude-code-proxy)
# PROXY_BASE_URL=http://localhost:4000/openai:nvidia/nemotron-3-nano-30b-a3b


# ==============================================================================
# SECURITY CONFIGURATION (Authentication)
# ==============================================================================
# API Key (REQUIRED)
# Used for REST API auth (X-API-Key header) and JWT secret derivation
# Generate with: openssl rand -hex 32
API_KEY=change-me-use-strong-key

# NOTE: JWT secret is derived from API_KEY using HMAC-SHA256
# No separate JWT_SECRET_KEY needed

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
CORS_ORIGINS=http://localhost:7002,https://your-frontend-url.example.com
API_HOST=0.0.0.0
API_PORT=7001
# API_RELOAD=false
# API_LOG_LEVEL=info

# ==============================================================================
# USER AUTHENTICATION (for CLI and default users)
# ==============================================================================
# Passwords for default users - REQUIRED for user creation
# Users are stored in SQLite database (data/users.db)
CLI_USERNAME=admin
CLI_ADMIN_PASSWORD=your-admin-password-here
CLI_TESTER_PASSWORD=your-tester-password-here

# ==============================================================================
# JWT CONFIGURATION (all optional — sensible defaults provided)
# ==============================================================================
# ACCESS_TOKEN_EXPIRE_MINUTES=30
# REFRESH_TOKEN_EXPIRE_DAYS=7
# JWT_SALT=claude-agent-sdk-jwt-v1
# JWT_ISSUER=claude-agent-sdk
# JWT_AUDIENCE=claude-agent-sdk-users
# JWT_LEEWAY_SECONDS=60
# JWT_ALGORITHM=HS256

# ==============================================================================
# STORAGE CONFIGURATION
# ==============================================================================
# Directory for session and history data (defaults to backend/data)
# DATA_DIR=/path/to/data
# STORAGE_MAX_SESSIONS=20
# STORAGE_SESSIONS_FILENAME=sessions.json
# STORAGE_HISTORY_DIRNAME=history
# STORAGE_DATABASE_FILENAME=users.db

# ==============================================================================
# PDF DECRYPTION (admin user only — for password-protected email attachments)
# ==============================================================================
# Passwords for decrypting PDF bank statements downloaded from email.
# Used in order when opening password-protected PDF attachments.
# PDF_PASSWORD_HSBC=your-hsbc-statement-password
# PDF_PASSWORD_VIB_CASHBACK=your-vib-cashback-password
# PDF_PASSWORD_VIB_BOUNDLESS=your-vib-boundless-password
# PDF_PASSWORD_DEFAULT=default-password-for-other-pdfs

# ==============================================================================
# EMAIL ACCOUNTS (auto-connected at startup via IMAP — admin user only)
# ==============================================================================
# Pre-configure email accounts that are auto-seeded for the admin user at startup.
# Other users must connect their accounts via the frontend Profile page.
# Provider is auto-detected from email domain. App passwords required (not regular passwords).
# See docs/EMAIL_SETUP.md for app password generation guides.
#
# EMAIL_ACCOUNT_1_EMAIL=user@gmail.com
# EMAIL_ACCOUNT_1_PASSWORD=abcd-efgh-ijkl-mnop
# EMAIL_ACCOUNT_1_IMAP_SERVER=imap.gmail.com        # Optional (auto-detected)
# EMAIL_ACCOUNT_1_IMAP_PORT=993                      # Optional (default: 993)
#
# EMAIL_ACCOUNT_2_EMAIL=user@yahoo.com
# EMAIL_ACCOUNT_2_PASSWORD=wxyz-abcd-efgh-ijkl

# ==============================================================================
# GMAIL OAUTH CONFIGURATION
# ==============================================================================
# Gmail OAuth credentials for secure API access (preferred over app passwords)
# Get credentials from: https://console.cloud.google.com/
# See docs/EMAIL_SETUP.md for complete setup instructions
#
# Required scopes for Gmail OAuth:
# - https://www.googleapis.com/auth/gmail.readonly
# - https://www.googleapis.com/auth/gmail.modify
#
# Note: These credentials are OPTIONAL. If not provided, Gmail accounts will
# use IMAP app passwords instead (less secure but still functional).
#
# EMAIL_GMAIL_CLIENT_ID=your-google-client-id-here
# EMAIL_GMAIL_CLIENT_SECRET=your-google-client-secret-here
# EMAIL_GMAIL_REDIRECT_URI=https://your-frontend-url.com/api/auth/callback/email/gmail
# EMAIL_FRONTEND_URL=https://your-frontend-url.com
# EMAIL_GMAIL_FULL_ACCESS_EMAILS=a@gmail.com,b@gmail.com

# ==============================================================================
# CHAT PLATFORM INTEGRATIONS (Telegram, WhatsApp, Zalo, iMessage)
# ==============================================================================
# Default agent ID for platform messages (optional, uses first agent if not set)
# PLATFORM_DEFAULT_AGENT_ID=your-agent-id

# Platform session rotation (set to 0 for testing, 24 for production)
# PLATFORM_SESSION_MAX_AGE_HOURS=24

# Backend public URL for signed download links sent to platforms
# BACKEND_PUBLIC_URL=https://your-backend-url.example.com

# --- Platform Whitelist ---
# Comma-separated phone numbers allowed to interact with the bot.
# All numbers default to the "admin" username.
# WHATSAPP_WHITELIST=84907996550,84123456789
# TELEGRAM_WHITELIST=123456789,987654321

# To map a specific number to a custom username instead of "admin",
# use the PLATFORM_USER_MAP_* format (overrides the whitelist default):
# PLATFORM_USER_MAP_WHATSAPP_84907996550=custom_user

# --- Telegram ---
# TELEGRAM_BOT_TOKEN=7123456789:AAHxYourBotTokenHere
# TELEGRAM_WEBHOOK_SECRET=your-random-32-char-secret

# --- WhatsApp (Meta Cloud API) ---
# WHATSAPP_PHONE_NUMBER_ID=123456789012345
# WHATSAPP_ACCESS_TOKEN=EAAx...your-access-token
# WHATSAPP_VERIFY_TOKEN=your-random-verify-token
# WHATSAPP_APP_SECRET=your-app-secret-hex

# --- Zalo OA ---
# ZALO_OA_ACCESS_TOKEN=your-oa-access-token
# ZALO_APP_SECRET=your-app-secret

# --- iMessage (via BlueBubbles on macOS) ---
# See docs/IMESSAGE_SETUP.md for setup instructions
# BLUEBUBBLES_SERVER_URL=http://your-mac:1234
# BLUEBUBBLES_PASSWORD=your-bluebubbles-password
# BLUEBUBBLES_WEBHOOK_SECRET=your-webhook-secret

# ==============================================================================
# MEDIA SERVICES (local Docker containers — OCR, STT, TTS)
# ==============================================================================
# OCR: Ollama GLM-OCR (localhost:18013)
# VLLM_API_KEY=your-ocr-api-key

# TTS: Supertonic/Chatterbox/Kokoro (localhost:18030/18033/18034)
# DEEPGRAM_API_KEY=dummy

# ==============================================================================
# MISCELLANEOUS
# ==============================================================================
# GitHub Personal Access Token (for GitHub plugin)
# GITHUB_PERSONAL_ACCESS_TOKEN=ghp_your-token-here

# Sanitize file paths in logs/messages (default: true)
# SANITIZE_PATHS=true

# Debug mode
# DEBUG=true
