# Prompt Improvement Report

**Agent:** {agent_id}
**Date:** {date}
**Version:** {version_from} -> {version_to}
**Author:** prompt-improver

---

## Executive Summary

Brief description of the improvement made and expected impact.

---

## Failure Analysis

### Failures Addressed

| Test ID | Expected Behavior | Actual Behavior | Root Cause |
|---------|-------------------|-----------------|------------|
| TEST-001 | [expected] | [actual] | [cause] |
| TEST-002 | [expected] | [actual] | [cause] |

### Failure Patterns Identified

1. **Pattern Name**: Description
   - Frequency: X occurrences
   - Affected section: [section name]
   - Example transcript:
     ```
     User: [input]
     Agent: [response]
     Expected: [expected response or action]
     ```

2. **Pattern Name**: Description
   - Frequency: X occurrences
   - Affected section: [section name]

---

## Changes Made

### Section: [Section Name]

**Change Type:** addition | modification | removal

**Before:**
```yaml
# Original content
```

**After:**
```yaml
# New content
```

**Rationale:** Why this change addresses the identified failures.

---

## Improvement Categories

- [ ] Clarity: Made instructions more explicit
- [ ] Structure: Reorganized prompt sections
- [ ] Tone: Adjusted communication style
- [ ] Tool Usage: Added/modified tool trigger conditions

---

## Expected Impact

| Metric | Before (v{version_from}) | Expected (v{version_to}) |
|--------|--------------------------|--------------------------|
| Success Rate | X% | Y% |
| Avg Turn Count | X | Y |
| Tool Call Accuracy | X% | Y% |

### Specific Improvements Expected

1. **TEST-001**: Should now pass because [reason]
2. **TEST-002**: Should now pass because [reason]

---

## Regression Risks

| Risk | Likelihood | Mitigation |
|------|------------|------------|
| [Potential regression] | Low/Medium/High | [How to prevent] |

### Tests to Monitor

- [ ] Existing test X (ensure still passes)
- [ ] Existing test Y (ensure still passes)

---

## Validation Plan

1. **Unit Tests**: Run targeted tests for addressed failures
   ```bash
   pytest eval/ -k "TEST-001 or TEST-002" --prompt-version={version_to}
   ```

2. **Regression Tests**: Run full test suite
   ```bash
   pytest eval/ --prompt-version={version_to}
   ```

3. **A/B Comparison** (if needed):
   - Control: v{version_from}
   - Treatment: v{version_to}
   - Sample size: [number]
   - Duration: [timeframe]

---

## Rollback Plan

If v{version_to} shows degraded performance:

1. Update `_versions.yaml` defaults back to v{version_from}
2. Document failure modes for next iteration
3. Create v{next_version} addressing new issues

---

## Appendix

### Full Prompt Diff

```diff
# Diff output here
```

### Related Documentation

- [SKILL_FULL.md](SKILL_FULL.md) - Full improvement reference
- [PROMPT_GUIDE.md](prompts/PROMPT_GUIDE.md) - Prompt writing guide

---

*Generated by prompt-improver skill*
