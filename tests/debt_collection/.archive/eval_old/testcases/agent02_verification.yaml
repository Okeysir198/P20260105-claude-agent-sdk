agent_id: debt_collection
sub_agent_id: verification
description: "Tests for verification agent - POPI compliance"

# Test Data Configuration
default_test_data:
  full_name: "John Smith"
  user_id: "U12345"
  username: "jsmith001"
  id_number: "8501015800087"
  birth_date: "1985-01-15"
  email: "john.smith@example.com"
  contact_number: "0821234567"
  residential_address: "123 Main Street, Johannesburg, 2000"
  vehicle_registration: "CA 123 456 GP"
  outstanding_amount: 2500.00
  overdue_days: 45
  script_type: "ratio1_inflow"
  account_status: "active"

test_cases:
  - name: "VER-001: ID number verification"
    test_type: single_turn
    tags: [unit, verification, priority-field]
    turns:
      - user_input: "My ID number is 8501015800087"
        assertions:
          - type: contains_function_call
            value: "verify_field"
            arguments:
              field_name: "id_number"

  - name: "VER-002: Field not available"
    test_type: single_turn
    tags: [unit, verification]
    turns:
      - user_input: "I don't remember my username"
        assertions:
          - type: contains_function_call
            value: "mark_unavailable"

  - name: "VER-003: Username verification"
    test_type: single_turn
    tags: [unit, verification]
    turns:
      - user_input: "My username is jsmith001"
        assertions:
          - type: contains_function_call
            value: "verify_field"
            arguments:
              field_name: "username"

  - name: "VER-004: Multiple field verification"
    test_type: multi_turn
    tags: [integration, verification]
    turns:
      - user_input: "My date of birth is 15 January 1985"
        assertions:
          - type: contains_function_call
            value: "verify_field"
      - user_input: "My username is jsmith001"
        assertions:
          - type: contains_function_call
            value: "verify_field"

  - name: "VER-005: Email verification"
    test_type: single_turn
    tags: [unit, verification]
    turns:
      - user_input: "My email is john.smith@example.com"
        assertions:
          - type: contains_function_call
            value: "verify_field"
            arguments:
              field_name: "email"

  - name: "VER-006: Vehicle registration verification"
    test_type: single_turn
    tags: [unit, verification]
    turns:
      - user_input: "The registration is CA 123 456 GP"
        assertions:
          - type: contains_function_call
            value: "verify_field"
            arguments:
              field_name: "vehicle_registration"

  - name: "VER-007: Callback during verification"
    test_type: single_turn
    tags: [unit, verification]
    turns:
      - user_input: "I'm busy right now, can you call me back later?"
        assertions:
          - type: contains_function_call
            value: "schedule_callback"
