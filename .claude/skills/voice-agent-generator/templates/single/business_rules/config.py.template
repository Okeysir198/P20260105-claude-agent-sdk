"""
Configuration and Constants for {agent_name} Business Rules

Defines domain-specific values and business constraints used
throughout the voice agent workflow.

Customize the constants below for your specific domain.
"""

from datetime import date, time, timedelta
from typing import Any, Dict, Optional


# ============================================================
# DEFAULT VALUES
# ============================================================
# Central place for default values used across the agent.

DEFAULT_VALUES: Dict[str, Any] = {
    "agent_name": "Agent",
    "timeout_seconds": 30,
    "max_retries": 3,
}


# ============================================================
# BUSINESS HOURS
# ============================================================
# Define when the service is available.

BUSINESS_HOURS = {
    "start": time(8, 0),   # 08:00
    "end": time(18, 0),    # 18:00
    "days": [0, 1, 2, 3, 4],  # Monday=0 to Friday=4
    "timezone": "UTC",
}


# ============================================================
# LOOKUP FUNCTIONS
# ============================================================

def get_default_value(key: str, fallback: Any = None) -> Any:
    """
    Get a default value by key.

    Args:
        key: The default value key
        fallback: Value to return if key not found

    Returns:
        The default value or fallback

    Example:
        >>> get_default_value("timeout_seconds")
        30
    """
    return DEFAULT_VALUES.get(key, fallback)


def is_within_hours(check_time: Optional[time] = None) -> bool:
    """
    Check if current time is within business hours.

    Args:
        check_time: Time to check (defaults to current time)

    Returns:
        True if within business hours

    Example:
        >>> is_within_hours(time(10, 0))
        True
    """
    from datetime import datetime

    if check_time is None:
        check_time = datetime.now().time()

    current_day = datetime.now().weekday()

    # Check if it's a business day
    if current_day not in BUSINESS_HOURS["days"]:
        return False

    # Check if within hours
    start = BUSINESS_HOURS["start"]
    end = BUSINESS_HOURS["end"]

    return start <= check_time <= end
